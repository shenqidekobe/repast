<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="link">
    <link href="/static/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
<body>
<div id="wrapper">
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div th:include="top"></div>
        <div th:include="left"></div>
    </nav>

    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">菜品管理中心</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <ol class="breadcrumb">
                        <li><strong><span style="color: #27a0d7">菜品列表</span></strong></li>
                    </ol>
                    <!--<form class="form-inline" role="form" method="post" id="searchForm">-->
                        <!--&lt;!&ndash;<div class="form-group" style="margin-left:20px">&ndash;&gt;-->
                        <!--&lt;!&ndash;<input type="text" class="form-control" name="loginName" id="loginName"&ndash;&gt;-->
                        <!--&lt;!&ndash;placeholder="菜品名"&ndash;&gt;-->
                        <!--&lt;!&ndash;onkeydown="if(event.keyCode==13){event.keyCode=0;event.returnValue=false;}">&ndash;&gt;-->
                        <!--&lt;!&ndash;</div>&ndash;&gt;-->
                        <!--&lt;!&ndash;<div class="form-group">&ndash;&gt;-->
                        <!--&lt;!&ndash;<button type="button" id="queryBtn" onclick="doQuery();" class="btn btn-primary">查询</button>&ndash;&gt;-->
                    <!--</form>-->
                    <div class="container" style="width: 100%">
                        <div id="toolbar" class="btn-group">
                            <button type="button" class="btn btn-info btn-sm rightSize" id="addBtn">
                                <i class="glyphicon glyphicon-plus" aria-hidden="true"></i>  新增菜品
                            </button>

                            <button style="margin-left: 10px" type="button" class="btn btn-info btn-sm rightSize" id="categoryBtn">
                                <i class="glyphicon glyphicon-tags" aria-hidden="true"></i>  菜品分类
                            </button>

                            <button style="margin-left: 10px" type="button" class="btn btn-info btn-sm rightSize" id="specBtn">
                                <i class="glyphicon glyphicon-stats" aria-hidden="true"></i>  菜品规格
                            </button>

                            <button style="margin-left: 10px" type="button" class="btn btn-info btn-sm rightSize" id="auxBtn">
                                <i class="glyphicon glyphicon-cutlery" aria-hidden="true"></i>  菜品辅料
                            </button>

                        </div>
                        <table id="dataTable"></table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/static/jquery/jquery.min.js"></script>
<script src="/static/bootstrap/js/bootstrap.min.js"></script>
<script src="/static/metisMenu/metisMenu.min.js"></script>
<script src="/static/dist/js/sb-admin-2.js"></script>
<script src="/static/bootstrap-table/bootstrap-table.min.js"></script>
<script src="/static/bootstrap-table/bootstrap-table-zh-CN.min.js"></script>
<script src="/static/admin/bootstrptableSetting.js"></script>
<script src="/static/toastr/toastr.min.js"></script>
<script src="/static/toastr/toastr.confirm.js"></script>
<script src="/static/admin/goods/list.js"></script>
<script>
    var dataTable = null;
    $("#addBtn").click(function () {
        location.href = '/goods/edit';
    });
    $("#categoryBtn").click(function () {
        location.href = '/goods/category';
    });
    $("#specBtn").click(function () {
        location.href = '/goods/spec';
    });
    $("#auxBtn").click(function () {
        location.href = '/goods/aux';
    });
    window.operateEvents = {
        "click #edit": function (e, value, row, index) {
            location.href = '/goods/edit?id=' + row.id;
            return false;
        }, "click #delete": function (e, value, row, index) {
            location.href = 'goods/remove?id=' + row.id;
            return false;
        }
    }
    var url = "/goods/listData.do?random=" + Math.random();
    var columns = [
        {
            field: '', title: '菜品', formatter: function (value, row, index) {
            return '<img src="/common/img/' + row.pic + '/0/" width=80px height=80px>';
        }
        },
        {field: 'name', title: '',},
        {field: 'amount', title: '价格',},
        {field: 'categoryName', title: '分类',},
        {field: 'specsName', title: '规格',},
        {
            field: 'createTime', title: '发布时间', formatter: function (value, row, index) {
            return new Date(value).Format('yyyy-MM-dd hh:mm:ss');
        }
        },
        {field: 'opers', title: '操作', events: operateEvents, formatter: operateFormatter}]

    function operateFormatter(value, row, index) {
        return "<i class=\"fa fa-edit fa-lg\" id='edit'></i>" + " | " +
            "<i class=\"fa fa-trash-o fa-lg\" id='delete'></i>";
    }

    loadTable(url, columns, function (options) {
        dataTable = $('#dataTable').bootstrapTable(options);
    });

</script>

</body>
</html>
